// node {
//     stage("Trigger from here") {
//         build job: 'test2', parameters: [
//             string(name: 'snyk_org', value: "16df2e12-d4cb-400d-aaf2-547db9ff07e9"),
//             string(name: 'prj_repo', value: "github.com/SymphonyOSF/SFE-Login.git"),
//             string(name: 'git_hash', value: "20.12")
//         ],
//         wait: false

//         build job: 'test2', parameters: [
//             string(name: 'snyk_org', value: "16df2e12-d4cb-400d-aaf2-547db9ff07e9"),
//             string(name: 'prj_repo', value: "github.com/SymphonyOSF/SFE-Client-App.git"),
//             string(name: 'git_hash', value: "20.12") 
//         ],
//         wait: false
//     }
// }

node {
    stage('Parallel Test') {
        parallel (
            login: {
                build job: 'test2', parameters: [
                    string(name: 'snyk_org', value: "16df2e12-d4cb-400d-aaf2-547db9ff07e9"),
                    string(name: 'prj_repo', value: "github.com/SymphonyOSF/SFE-Login.git"),
                    string(name: 'git_hash', value: "20.12")
                ],
                wait: true
            },
            client: {
                build job: 'test2', parameters: [
                    string(name: 'snyk_org', value: "16df2e12-d4cb-400d-aaf2-547db9ff07e9"),
                    string(name: 'prj_repo', value: "github.com/SymphonyOSF/SFE-Client-App.git"),
                    string(name: 'git_hash', value: "20.12")
                ],
                wait: true
            }
        )
    }
}